-- ============================================
-- SAMPLE DATA - Συνδεδεμένα δεδομένα
-- ============================================
-- Τρέξε αυτό το SQL στο Supabase SQL Editor
-- https://supabase.com/dashboard/project/bkilebddentkgaazsndb/sql
-- 
-- ΣΗΜΕΙΩΣΗ: Αυτά τα δεδομένα είναι συνδεδεμένα μεταξύ τους:
-- - Members χρησιμοποιούν Packages που υπάρχουν
-- - Debts συνδέονται με Members (ίδια name/phone)
-- - Upcoming_expiries ταιριάζουν με Members που έχουν expiring_soon status

-- ============================================
-- 1. PACKAGES (πρέπει να υπάρχουν πρώτα)
-- ============================================
INSERT INTO public.packages (name, category, duration, price, active) VALUES
('Μηνιαία Απεριόριστη', 'subscription', '30 ημέρες', 45, 1),
('Ετήσια Απεριόριστη', 'subscription', '365 ημέρες', 450, 1),
('10 Επισκέψεις', 'hourly', '60 ημέρες', 60, 1),
('Παιδικό Πρόγραμμα', 'kids', '30 ημέρες', 35, 1),
('20 Επισκέψεις', 'hourly', '90 ημέρες', 110, 1),
('Τριμηνιαία Απεριόριστη', 'subscription', '90 ημέρες', 120, 1)
ON CONFLICT DO NOTHING;

-- ============================================
-- 2. MEMBERS (χρησιμοποιούν packages από πάνω)
-- ============================================
INSERT INTO public.members (name, phone, status, expiry, package) VALUES
-- Active members
('Νίκος Παπαδόπουλος', '6912345678', 'active', '15/01/2026', 'Μηνιαία Απεριόριστη'),
('Ελένη Αντωνίου', '6945678901', 'active', '30/12/2025', '10 Επισκέψεις'),
('Αννα Κωνσταντίνου', '6913456789', 'active', '20/01/2026', 'Ετήσια Απεριόριστη'),
('Θοδωρής Ιωαννίδης', '6924567890', 'active', '25/01/2026', 'Τριμηνιαία Απεριόριστη'),

-- Expiring soon members (θα έχουν entries στο upcoming_expiries)
('Μαρία Γεωργίου', '6923456789', 'expiring_soon', '20/01/2026', 'Ετήσια Απεριόριστη'),
('Πέτρος Δημητρίου', '6956789012', 'expiring_soon', '10/02/2026', 'Μηνιαία Απεριόριστη'),
('Χριστίνα Παπαδοπούλου', '6935678901', 'expiring_soon', '05/02/2026', '10 Επισκέψεις'),

-- Expired members
('Γιάννης Κωνσταντίνου', '6934567890', 'expired', '05/12/2024', 'Παιδικό Πρόγραμμα'),
('Σπύρος Αθανασίου', '6967890123', 'expired', '10/11/2024', 'Μηνιαία Απεριόριστη')
ON CONFLICT DO NOTHING;

-- ============================================
-- 3. DEBTS (συνδέονται με members - ίδια name/phone)
-- ============================================
INSERT INTO public.debts (name, amount, "daysOverdue", status, "lastContact", phone, email) VALUES
-- Critical status (25+ ημέρες) - συνδέονται με expired/old members
('Γιάννης Κωνσταντίνου', 200, 25, 'critical', '28/11/2025', '6934567890', 'giannis@example.com'),
('Σπύρος Αθανασίου', 350, 45, 'critical', '15/11/2025', '6967890123', 'spyros@example.com'),

-- Warning status (10-24 ημέρες) - συνδέονται με expiring_soon members
('Μαρία Γεωργίου', 120, 12, 'warning', '05/12/2025', '6923456789', 'maria@example.com'),
('Πέτρος Δημητρίου', 95, 18, 'warning', '01/12/2025', '6956789012', 'petros@example.com'),
('Χριστίνα Παπαδοπούλου', 55, 15, 'warning', '03/12/2025', '6935678901', 'christina@example.com'),

-- Overdue status (1-9 ημέρες) - συνδέονται με active members
('Νίκος Παπαδόπουλος', 80, 5, 'overdue', '10/12/2025', '6912345678', 'nikos@example.com'),
('Ελένη Αντωνίου', 50, 3, 'overdue', '12/12/2025', '6945678901', 'eleni@example.com'),
('Αννα Κωνσταντίνου', 90, 4, 'overdue', '11/12/2025', '6913456789', 'anna@example.com'),
('Θοδωρής Ιωαννίδης', 75, 8, 'overdue', '07/12/2025', '6924567890', 'thodoris@example.com'),

-- Επιπλέον debts (χωρίς member - μπορεί να είναι παλιά)
('Δημήτρης Παπαγιάννης', 150, 15, 'warning', '03/12/2025', '6989012345', 'dimitris@example.com'),
('Σοφία Αλεξάνδρου', 110, 22, 'warning', '28/11/2025', '6990123456', 'sofia@example.com'),
('Αντώνης Μιχαηλίδης', 65, 7, 'overdue', '08/12/2025', '6901234567', 'antonis@example.com')
ON CONFLICT DO NOTHING;

-- ============================================
-- 4. UPCOMING_EXPIRIES (ταιριάζουν με expiring_soon members)
-- ============================================
INSERT INTO public.upcoming_expiries (name, phone, expiry, days, package) VALUES
-- Ταιριάζουν με members που έχουν status='expiring_soon'
('Μαρία Γεωργίου', '6923456789', '20/01/2026', 15, 'Ετήσια Απεριόριστη'),
('Πέτρος Δημητρίου', '6956789012', '10/02/2026', 35, 'Μηνιαία Απεριόριστη'),
('Χριστίνα Παπαδοπούλου', '6935678901', '05/02/2026', 30, '10 Επισκέψεις')
ON CONFLICT DO NOTHING;

